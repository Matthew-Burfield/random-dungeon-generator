!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["random-dungeon-generator"]=t():e["random-dungeon-generator"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[u,s];return 0===e.length?"":e[i(0,e.length-1)]}function l(e){var t=e.length-1,n=e[0].length-1;return e.map(function(e,o){return e.map(function(e,i){return 0===o||o===t||0===i||i===n?1:e})})}Object.defineProperty(t,"__esModule",{value:!0});var u="VERTICAL",s="HORIZONTAL",h=function(e){var t=e.width,n=void 0===t?50:t,h=e.height,a=void 0===h?50:h,c=e.minRoomSize,m=void 0===c?5:c,f=e.maxRoomSize,p=void 0===f?20:f,v={init:function(e,t,n,o){this.minRoomSize=5,this.maxRoomSize=20,this.counter=1,this.tree={level:Array.apply(null,{length:t}).map(function(){return Array.apply(null,{length:e})})},this.split(this.tree),this.connectRooms(this.tree)},setMinRoomSize:function(e){if(e>this.maxRoomSize)throw new Error("Minimum room size cannot be larger than the maximum room size of "+this.maxRoomSize);this.minRoomSize=e},setMaxRoomSize:function(e){if(e<this.minRoomSize)throw new Error("Maximum room size cannot be smaller than the minimum room size of "+this.minRoomSize);this.minRoomSize=e},split:function(e){var t=this;if(e.level.length>this.maxRoomSize||e.level[0].length>this.maxRoomSize){var n=r(this.getSplitOptions(e.level.length,e.level[0].length)),o=this.getIndexToSplit(n,e.level[0].length,e.level.length),i=e.leftNode={},s=e.rightNode={};e.splitDirection=n,e.splitIndex=o,n===u?(i.level=e.level.map(function(e){return e.slice(0,o)}),s.level=e.level.map(function(e){return e.slice(o,e.length)})):(i.level=e.level.slice(0,o),s.level=e.level.slice(o,e.level.length)),this.split(i),this.split(s)}else this.counter+=1,e.level=e.level.map(function(e){return e.map(function(){return t.counter})}),e.level=l(e.level)},getSplitOptions:function(e,t){var n=[];return e>this.maxRoomSize&&n.push(s),t>this.maxRoomSize&&n.push(u),n},getIndexToSplit:function(e,t,n){var o=this.minRoomSize;return i(o,e===u?t-o:n-o)},connectRooms:function(e){if(e.leftNode&&(this.connectRooms(e.leftNode),e.rightNode)){this.connectRooms(e.rightNode);var t=e.leftNode.level,n=e.rightNode.level;if(e.splitDirection===u){var r=i(1,t.length-2);e.corridorIndex=r,t[r][t[0].length-1]=0,t[r][t[0].length-2]=0,n[r][0]=0,n[r][1]=0}else{var l=i(1,t[0].length-2);e.corridorIndex=l,t[t.length-1][l]=0,t[t.length-2][l]=0,n[0][l]=0,n[1][l]=0}if(e.level=[],e.splitDirection===u)e.level=t.reduce(function(e,i,r){var l=[];return l.push.apply(l,o(t[r])),l.push.apply(l,o(n[r])),e.push(l),e},[]);else{var s,h;(s=e.level).push.apply(s,o(t)),(h=e.level).push.apply(h,o(n))}}}},d=Object.create(v);return d.init(n,a,m,p),d.tree.level};window&&(window.NewDungeon=h),t.default=h}])});
//# sourceMappingURL=index.umd.min.js.map